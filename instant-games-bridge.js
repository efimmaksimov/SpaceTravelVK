(()=>{var e={258:e=>{!function(t){e.exports=t;var r={on:function(e,t){return i(this,e).push(t),this},once:function(e,t){var r=this;return o.originalListener=t,i(r,e).push(o),r;function o(){n.call(r,e,o),t.apply(this,arguments)}},off:n,emit:function(e,t){var r=this,o=i(r,e,!0);if(!o)return!1;var n=arguments.length;if(1===n)o.forEach(s);else if(2===n)o.forEach(c);else{var a=Array.prototype.slice.call(arguments,1);o.forEach(u)}return!!o.length;function s(e){e.call(r)}function c(e){e.call(r,t)}function u(e){e.apply(r,a)}}};function o(e){for(var t in r)e[t]=r[t];return e}function n(e,t){var r,o=this;if(arguments.length){if(t){if(r=i(o,e,!0)){if(!(r=r.filter(a)).length)return n.call(o,e);o.listeners[e]=r}}else if((r=o.listeners)&&(delete r[e],!Object.keys(r).length))return n.call(o)}else delete o.listeners;return o;function a(e){return e!==t&&e.originalListener!==t}}function i(e,t,r){if(!r||e.listeners){var o=e.listeners||(e.listeners={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,i(e,t,"set"),r),r}function n(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,i(e,t,"get"))}function i(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var a=new WeakMap,s=new WeakMap,c=new WeakMap;const u=function(){function r(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t(this,a,{writable:!0,value:void 0}),t(this,s,{writable:!0,value:void 0}),t(this,c,{writable:!0,value:void 0}),o(this,a,new Promise((function(t,r){o(e,s,t),o(e,c,r)})))}var i,u;return i=r,(u=[{key:"promise",get:function(){return n(this,a)}},{key:"resolve",value:function(e){n(this,s).call(this,e)}},{key:"reject",value:function(e){n(this,c).call(this,e)}}])&&e(i.prototype,u),Object.defineProperty(i,"prototype",{writable:!1}),r}();var l=r(258),h=r.n(l);function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){m(e,t),t.add(e)}function p(e,t,r){m(e,t),t.set(e,r)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function _(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,w(e,t,"set"),r),r}function v(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,w(e,t,"get"))}function w(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var P="created",g="completed",b=new WeakMap,D=new WeakMap,k=new WeakMap,S=new WeakMap,j=new WeakSet,T=new WeakSet,O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,T),d(this,j),p(this,b,{writable:!0,value:0}),p(this,D,{writable:!0,value:0}),p(this,k,{writable:!0,value:P}),p(this,S,{writable:!0,value:0}),_(this,b,t)}var t,r;return t=e,(r=[{key:"state",get:function(){return v(this,k)}},{key:"start",value:function(){var e=this;switch(v(this,k)){case P:case g:_(this,D,v(this,b)),y(this,j,I).call(this,"started"),_(this,S,setInterval((function(){_(e,D,v(e,D)-1),e.emit("time_left_changed",v(e,D)),v(e,D)<=0&&(y(e,T,R).call(e),y(e,j,I).call(e,g))}),1e3))}}},{key:"stop",value:function(){y(this,T,R).call(this),y(this,j,I).call(this,"stopped")}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e){_(this,k,e),this.emit("state_changed",v(this,k))}function R(){_(this,D,0),clearInterval(v(this,S))}h().mixin(O.prototype);const A=O;function E(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t,r){C(e,t),t.set(e,r)}function C(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function H(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,G(e,t,"set"),r),r}function W(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,G(e,t,"get"))}function G(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var M="interstitial_state_changed",x="rewarded_state_changed",L="opened",N="closed",K="failed",B="opened",J="closed",V="failed",U="rewarded",Y=new WeakMap,q=new WeakMap,Q=new WeakMap,X=new WeakSet,Z=function(){function e(t){var r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,r=X),r.add(this),z(this,Y,{writable:!0,value:void 0}),z(this,q,{writable:!0,value:void 0}),z(this,Q,{writable:!0,value:60}),H(this,Y,t),W(this,Y).on(M,(function(e){return o.emit(M,e)})),W(this,Y).on(x,(function(e){return o.emit(x,e)}))}var t,r;return t=e,(r=[{key:"interstitialState",get:function(){return W(this,Y).interstitialState}},{key:"rewardedState",get:function(){return W(this,Y).rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return W(this,Q)}},{key:"setMinimumDelayBetweenInterstitial",value:function(e){"number"!=typeof e&&(e=parseInt(e),isNaN(e))||(H(this,Q,e),W(this,q)&&(W(this,q).stop(),F(this,X,$).call(this)))}},{key:"showInterstitial",value:function(e){var t=e&&e.ignoreDelay;return W(this,q)&&W(this,q).state!==g&&!t?Promise.reject("The minimum delay between interstitials has not passed"):(W(this,Q)>0&&F(this,X,$).call(this),W(this,Y).showInterstitial())}},{key:"showRewarded",value:function(){return W(this,Y).showRewarded()}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(){H(this,q,new A(W(this,Q))),W(this,q).start()}h().mixin(Z.prototype);const ee=Z;function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function re(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oe(this,"LOCAL_STORAGE_GAME_DATA_KEY","game_data"),oe(this,"_isInitialized",!1),oe(this,"_initializationPromiseDecorator",null),oe(this,"_sdk",null),oe(this,"_localStorage",null),oe(this,"_isPlayerAuthorized",!1),oe(this,"_authorizationPromiseDecorator",null),oe(this,"_playerId",null),oe(this,"_playerName",null),oe(this,"_playerPhotos",[]),oe(this,"_gameData",null),oe(this,"_showInterstitialPromiseDecorator",null),oe(this,"_showRewardedPromiseDecorator",null),oe(this,"_interstitialState",null),oe(this,"_rewardedState",null),oe(this,"_sharePromiseDecorator",null),oe(this,"_inviteFriendsPromiseDecorator",null),oe(this,"_joinCommunityPromiseDecorator",null),oe(this,"_createPostPromiseDecorator",null),oe(this,"_addToHomeScreenPromiseDecorator",null),oe(this,"_addToFavoritesPromiseDecorator",null),t&&(this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t));try{this._localStorage=window.localStorage}catch(e){}}var t,r;return t=e,(r=[{key:"id",get:function(){return null}},{key:"sdk",get:function(){return this._sdk}},{key:"language",get:function(){var e=navigator.language;return"string"==typeof e?e.substring(0,2):"en"}},{key:"payload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"authorizePlayer",value:function(){return Promise.reject()}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){t._loadGameDataFromLocalStorage().finally((function(){if(t._gameData){var o=t._gameData[e];r(void 0!==o?o:null)}else r(null)}))}))}},{key:"setGameData",value:function(e,t){return this._gameData||(this._gameData={}),this._gameData[e]=t,this._saveGameDataToLocalStorage()}},{key:"deleteGameData",value:function(e){return this._gameData?(delete this._gameData[e],this._saveGameDataToLocalStorage()):Promise.resolve()}},{key:"showInterstitial",value:function(){return Promise.reject()}},{key:"showRewarded",value:function(){return Promise.reject()}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(e){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"_loadGameDataFromLocalStorage",value:function(){var e=this;return new Promise((function(t,r){try{var o=e._localStorage.getItem(e.LOCAL_STORAGE_GAME_DATA_KEY);o&&(e._gameData=JSON.parse(o)),t()}catch(e){r(e)}}))}},{key:"_saveGameDataToLocalStorage",value:function(){var e=this;return new Promise((function(t,r){try{e._localStorage.setItem(e.LOCAL_STORAGE_GAME_DATA_KEY,JSON.stringify(e._gameData)),t()}catch(e){r(e)}}))}},{key:"_setInterstitialState",value:function(e){this._interstitialState!==e&&(this._interstitialState=e,this.emit(M,this._interstitialState))}},{key:"_setRewardedState",value:function(e){this._rewardedState!==e&&(this._rewardedState=e,this.emit(x,this._rewardedState))}},{key:"_canShowAdvertisement",value:function(){return!(this._interstitialState&&this._interstitialState!==N||this._rewardedState&&this._rewardedState!==J&&this._rewardedState!==V)}}])&&re(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();h().mixin(ne.prototype);const ie=ne;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function le(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}const fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(o);if(n){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return le(this,e)});function a(){return se(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"id",get:function(){return"mock"}},{key:"isInviteFriendsSupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateInviteFriends)&&this._options.social.simulateInviteFriends}},{key:"isJoinCommunitySupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateJoinCommunity)&&this._options.social.simulateJoinCommunity}},{key:"isShareSupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateShare)&&this._options.social.simulateShare}},{key:"isCreatePostSupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateCreatePost)&&this._options.social.simulateCreatePost}},{key:"isAddToHomeScreenSupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateAddToHomeScreen)&&this._options.social.simulateAddToHomeScreen}},{key:"isAddToFavoritesSupported",get:function(){return!!(this._options&&this._options.social&&this._options.social.simulateAddToFavorites)&&this._options.social.simulateAddToFavorites}},{key:"showInterstitial",value:function(){var e=this;return this._options&&this._options.advertisement&&this._options.advertisement.simulateInterstitial?new Promise((function(t){t(),e._setInterstitialState(L),e._setInterstitialState(N)})):Promise.reject()}},{key:"showRewarded",value:function(){var e=this;return this._options&&this._options.advertisement&&this._options.advertisement.simulateRewarded?new Promise((function(t){t(),e._setRewardedState(B),e._setRewardedState(U),e._setRewardedState(J)})):Promise.reject()}},{key:"inviteFriends",value:function(){return this.isInviteFriendsSupported?Promise.resolve():Promise.reject()}},{key:"joinCommunity",value:function(){return this.isJoinCommunitySupported?Promise.resolve():Promise.reject()}},{key:"share",value:function(){return this.isShareSupported?Promise.resolve():Promise.reject()}},{key:"createPost",value:function(e){return this.isCreatePostSupported?Promise.resolve():Promise.reject()}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?Promise.resolve():Promise.reject()}},{key:"addToFavorites",value:function(){return this.isAddToFavoritesSupported?Promise.resolve():Promise.reject()}}])&&ce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ie);var de=function(e){return new Promise((function(t){var r=document.createElement("script");r.src=e,r.addEventListener("load",t),document.head.appendChild(r)}))};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(){return _e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=ve(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_e.apply(this,arguments)}function ve(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=be(e)););return e}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}function Pe(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function De(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function ke(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Se=new WeakMap;const je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=be(o);if(n){var r=be(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Pe(this,e)});function a(){var e;me(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return De(ge(e=i.call.apply(i,[this].concat(r))),Se,{writable:!0,value:!1}),e}return t=a,(r=[{key:"id",get:function(){return"vk"}},{key:"language",get:function(){var e=new URL(window.location.href);if(e.searchParams.has("language"))switch(e.searchParams.get("language")){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}return _e(be(a.prototype),"language",this)}},{key:"payload",get:function(){var e=new URL(window.location.href);return e.searchParams.has("hash")?e.searchParams.get("hash"):_e(be(a.prototype),"payload",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return function(e,t){return t.get?t.get.call(e):t.value}(this,ke(this,Se,"get"))}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"initialize",value:function(){var e=this;return this._isInitialized?Promise.resolve():(this._initializationPromiseDecorator||(this._initializationPromiseDecorator=new u,de("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){e._sdk=window.vkBridge,e._sdk.send("VKWebAppInit").then((function(){var t,r,o=new URL(window.location.href);if(o.searchParams.has("platform")){var n=o.searchParams.get("platform");r="html5_android"===n,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t=e,ke(t,Se,"set"),r)}e._sdk.send("VKWebAppGetUserInfo").then((function(t){t&&(e._playerId=t.id,e._playerName=t.first_name+" "+t.last_name,t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._initializationPromiseDecorator&&(e._initializationPromiseDecorator.resolve(),e._initializationPromiseDecorator=null)}))}))}))),this._initializationPromiseDecorator.promise)}},{key:"authorizePlayer",value:function(){return Promise.resolve()}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){t._sdk.send("VKWebAppStorageGet",{keys:[e]}).then((function(e){if(""!==e.keys[0].value){var t;try{t=JSON.parse(e.keys[0].value)}catch(r){t=e.keys[0].value}r(t)}else r(null)})).catch((function(){r(null)}))}))}},{key:"setGameData",value:function(e,t){var r=this;return new Promise((function(o,n){var i={key:e,value:t};"string"!=typeof t&&(i.value=JSON.stringify(t)),r._sdk.send("VKWebAppStorageSet",i).then((function(){o()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?n(e.error_data.error_reason):n()}))}))}},{key:"deleteGameData",value:function(e){return this.setGameData(e,"")}},{key:"showInterstitial",value:function(){var e=this;return this._canShowAdvertisement()?(this._showInterstitialPromiseDecorator||(this._showInterstitialPromiseDecorator=new u,this._sdk.send("VKWebAppShowNativeAds",{ad_format:"preloader"}).then((function(t){t.result?(e._showInterstitialPromiseDecorator&&(e._showInterstitialPromiseDecorator.resolve(),e._showInterstitialPromiseDecorator=null),e._setInterstitialState(L),e._setInterstitialState(N)):(e._showInterstitialPromiseDecorator&&(e._showInterstitialPromiseDecorator.reject(),e._showInterstitialPromiseDecorator=null),e._setInterstitialState(K))})).catch((function(t){e._showInterstitialPromiseDecorator&&(e._showInterstitialPromiseDecorator.reject(t),e._showInterstitialPromiseDecorator=null),e._setInterstitialState(K)}))),this._showInterstitialPromiseDecorator.promise):Promise.reject()}},{key:"showRewarded",value:function(){var e=this;return this._canShowAdvertisement()?(this._showRewardedPromiseDecorator||(this._showRewardedPromiseDecorator=new u,this._sdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(t){t.result?(e._showRewardedPromiseDecorator&&(e._showRewardedPromiseDecorator.resolve(),e._showRewardedPromiseDecorator=null),e._setRewardedState(B),e._setRewardedState(U),e._setRewardedState(J)):(e._showRewardedPromiseDecorator&&(e._showRewardedPromiseDecorator.reject(),e._showRewardedPromiseDecorator=null),e._setRewardedState(V))})).catch((function(t){e._showRewardedPromiseDecorator&&(e._showRewardedPromiseDecorator.reject(t),e._showRewardedPromiseDecorator=null),e._setRewardedState(V)}))),this._showRewardedPromiseDecorator.promise):Promise.reject()}},{key:"inviteFriends",value:function(){var e=this;return this._inviteFriendsPromiseDecorator||(this._inviteFriendsPromiseDecorator=new u,this._sdk.send("VKWebAppShowInviteBox").then((function(t){t.success?e._inviteFriendsPromiseDecorator&&(e._inviteFriendsPromiseDecorator.resolve(),e._inviteFriendsPromiseDecorator=null):e._inviteFriendsPromiseDecorator&&(e._inviteFriendsPromiseDecorator.reject(),e._inviteFriendsPromiseDecorator=null)})).catch((function(t){e._inviteFriendsPromiseDecorator&&(t&&t.error_data&&t.error_data.error_reason?e._inviteFriendsPromiseDecorator.reject(t.error_data.error_reason):e._inviteFriendsPromiseDecorator.reject(),e._inviteFriendsPromiseDecorator=null)}))),this._inviteFriendsPromiseDecorator.promise}},{key:"joinCommunity",value:function(){var e=this;if(!this._options||!this._options.groupId)return Promise.reject();if("string"==typeof this._options.groupId){var t=parseInt(this._options.groupId);isNaN(t)||(this._options.groupId=t)}return this._joinCommunityPromiseDecorator||(this._joinCommunityPromiseDecorator=new u,this._sdk.send("VKWebAppJoinGroup",{group_id:this._options.groupId}).then((function(t){if(t&&t.result)return e._joinCommunityPromiseDecorator&&(e._joinCommunityPromiseDecorator.resolve(),e._joinCommunityPromiseDecorator=null),void window.open("https://vk.com/public"+e._options.groupId);e._joinCommunityPromiseDecorator&&(e._joinCommunityPromiseDecorator.reject(),e._joinCommunityPromiseDecorator=null)})).catch((function(t){e._joinCommunityPromiseDecorator&&(t&&t.error_data&&t.error_data.error_reason?e._joinCommunityPromiseDecorator.reject(t.error_data.error_reason):e._joinCommunityPromiseDecorator.reject(),e._joinCommunityPromiseDecorator=null)}))),this._joinCommunityPromiseDecorator.promise}},{key:"share",value:function(){var e=this;return this._sharePromiseDecorator||(this._sharePromiseDecorator=new u,this._sdk.send("VKWebAppShare").then((function(t){t&&t.type?e._sharePromiseDecorator&&(e._sharePromiseDecorator.resolve(),e._sharePromiseDecorator=null):e._sharePromiseDecorator&&(e._sharePromiseDecorator.reject(),e._sharePromiseDecorator=null)})).catch((function(t){e._sharePromiseDecorator&&(t&&t.error_data&&t.error_data.error_reason?e._sharePromiseDecorator.reject(t.error_data.error_reason):e._sharePromiseDecorator.reject(),e._sharePromiseDecorator=null)}))),this._sharePromiseDecorator.promise}},{key:"createPost",value:function(e){var t=this;return this._createPostPromiseDecorator||(this._createPostPromiseDecorator=new u,this._sdk.send("VKWebAppShowWallPostBox",{message:e}).then((function(e){e&&e.post_id?t._createPostPromiseDecorator&&(t._createPostPromiseDecorator.resolve(),t._createPostPromiseDecorator=null):t._createPostPromiseDecorator&&(t._createPostPromiseDecorator.reject(),t._createPostPromiseDecorator=null)})).catch((function(e){t._createPostPromiseDecorator&&(e&&e.error_data&&e.error_data.error_reason?t._createPostPromiseDecorator.reject(e.error_data.error_reason):t._createPostPromiseDecorator.reject(),t._createPostPromiseDecorator=null)}))),this._createPostPromiseDecorator.promise}},{key:"addToHomeScreen",value:function(){var e=this;return this.isAddToHomeScreenSupported?(this._addToHomeScreenPromiseDecorator||(this._addToHomeScreenPromiseDecorator=new u,this._sdk.send("VKWebAppAddToHomeScreen").then((function(t){t&&t.result?e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.resolve(),e._addToHomeScreenPromiseDecorator=null):e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.reject(),e._addToHomeScreenPromiseDecorator=null)})).catch((function(t){e._addToHomeScreenPromiseDecorator&&(t&&t.error_data&&t.error_data.error_reason?e._addToHomeScreenPromiseDecorator.reject(t.error_data.error_reason):e._addToHomeScreenPromiseDecorator.reject(),e._addToHomeScreenPromiseDecorator=null)}))),this._addToHomeScreenPromiseDecorator.promise):Promise.reject()}},{key:"addToFavorites",value:function(){var e=this;return this._addToFavoritesPromiseDecorator||(this._addToFavoritesPromiseDecorator=new u,this._sdk.send("VKWebAppAddToFavorites").then((function(t){t&&t.result?e._addToFavoritesPromiseDecorator&&(e._addToFavoritesPromiseDecorator.resolve(),e._addToFavoritesPromiseDecorator=null):e._addToFavoritesPromiseDecorator&&(e._addToFavoritesPromiseDecorator.reject(),e._addToFavoritesPromiseDecorator=null)})).catch((function(t){e._addToFavoritesPromiseDecorator&&(t&&t.error_data&&t.error_data.error_reason?e._addToFavoritesPromiseDecorator.reject(t.error_data.error_reason):e._addToFavoritesPromiseDecorator.reject(),e._addToFavoritesPromiseDecorator=null)}))),this._addToFavoritesPromiseDecorator.promise}}])&&ye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ie);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}function Ae(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=Ce(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},ze.apply(this,arguments)}function Ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function He(e,t){Ge(e,t),t.add(e)}function We(e,t,r){Ge(e,t),t.set(e,r)}function Ge(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Me(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Ne(e,t,"set"),r),r}function xe(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Le(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ne(e,t,"get"))}function Ne(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Ke=new WeakMap,Be=new WeakMap,Je=new WeakSet,Ve=new WeakSet,Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(o);if(n){var r=Fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ae(this,e)});function a(){var e;Oe(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return He(Ee(e=i.call.apply(i,[this].concat(r))),Ve),He(Ee(e),Je),We(Ee(e),Ke,{writable:!0,value:!1}),We(Ee(e),Be,{writable:!0,value:null}),e}return t=a,(r=[{key:"id",get:function(){return"yandex"}},{key:"language",get:function(){return this._sdk?this._sdk.environment.i18n.lang:ze(Fe(a.prototype),"language",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return Le(this,Ke)}},{key:"initialize",value:function(){var e=this;return this._isInitialized?Promise.resolve():(this._initializationPromiseDecorator||(this._initializationPromiseDecorator=new u,de("https://yandex.ru/games/sdk/v2").then((function(){window.YaGames.init().then((function(t){e._sdk=t;var r=xe(e,Je,Ye).call(e),o=e._sdk.getStorage().then((function(t){e._localStorage=t})),n=e._sdk.shortcut.canShowPrompt().then((function(t){Me(e,Ke,t.canShow)}));Promise.all([r,o,n]).finally((function(){e._isInitialized=!0,e._initializationPromiseDecorator&&(e._initializationPromiseDecorator.resolve(),e._initializationPromiseDecorator=null)}))}))}))),this._initializationPromiseDecorator.promise)}},{key:"authorizePlayer",value:function(){var e=this;return null==this._authorizationPromiseDecorator&&(this._authorizationPromiseDecorator=new u,this._isPlayerAuthorized?xe(this,Je,Ye).call(this).then((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.resolve(),e._authorizationPromiseDecorator=null)})):this._sdk.auth.openAuthDialog().then((function(){xe(e,Je,Ye).call(e).then((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.resolve(),e._authorizationPromiseDecorator=null)}))})).catch((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.reject(),e._authorizationPromiseDecorator=null)}))),this._authorizationPromiseDecorator.promise}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){if(t._gameData)void 0===t._gameData[e]?r(null):r(t._gameData[e]);else{if(!Le(t,Be))return ze(Fe(a.prototype),"getGameData",t).call(t,e);Le(t,Be).getData().then((function(o){t._gameData=o,void 0===t._gameData[e]?r(null):r(t._gameData[e])})).catch((function(){r(null)}))}}))}},{key:"setGameData",value:function(e,t){return this._gameData||(this._gameData={}),this._gameData[e]=t,xe(this,Ve,qe).call(this)}},{key:"deleteGameData",value:function(e){return this._gameData?(delete this._gameData[e],xe(this,Ve,qe).call(this)):Promise.resolve()}},{key:"showInterstitial",value:function(){var e=this;return this._canShowAdvertisement()?(this._showInterstitialPromiseDecorator||(this._showInterstitialPromiseDecorator=new u,this._sdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._showInterstitialPromiseDecorator&&(e._showInterstitialPromiseDecorator.resolve(),e._showInterstitialPromiseDecorator=null),e._setInterstitialState(L)},onClose:function(t){t?e._setInterstitialState(N):(e._showInterstitialPromiseDecorator&&(e._showInterstitialPromiseDecorator.reject(),e._showInterstitialPromiseDecorator=null),e._setInterstitialState(K))}}})),this._showInterstitialPromiseDecorator.promise):Promise.reject()}},{key:"showRewarded",value:function(){var e=this;return this._canShowAdvertisement()?(this._showRewardedPromiseDecorator||(this._showRewardedPromiseDecorator=new u,this._sdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._showRewardedPromiseDecorator&&(e._showRewardedPromiseDecorator.resolve(),e._showRewardedPromiseDecorator=null),e._setRewardedState(B)},onRewarded:function(){e._setRewardedState(U)},onClose:function(){e._setRewardedState(J)},onError:function(t){e._showRewardedPromiseDecorator&&(e._showRewardedPromiseDecorator.reject(t),e._showRewardedPromiseDecorator=null),e._setRewardedState(V)}}})),this._showRewardedPromiseDecorator.promise):Promise.reject()}},{key:"addToHomeScreen",value:function(){var e=this;return this.isAddToHomeScreenSupported?(this._addToHomeScreenPromiseDecorator||(this._addToHomeScreenPromiseDecorator=new u,this._sdk.shortcut.showPrompt().then((function(t){"accepted"!==t.outcome?e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.reject(),e._addToHomeScreenPromiseDecorator=null):e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.resolve(),e._addToHomeScreenPromiseDecorator=null)})).catch((function(t){e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.reject(t),e._addToHomeScreenPromiseDecorator=null)}))),this._addToHomeScreenPromiseDecorator.promise):Promise.reject()}}])&&Ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ie);function Ye(){var e=this,t=!1;return this._options&&this._options.authorization&&this._options.authorization.scopes&&(t=this._options.authorization.scopes),new Promise((function(r){e._sdk.getPlayer({scopes:t}).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode();var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var o=t.getPhoto("small"),n=t.getPhoto("medium"),i=t.getPhoto("large");o&&e._playerPhotos.push(o),n&&e._playerPhotos.push(n),i&&e._playerPhotos.push(i),Me(e,Be,t)})).finally((function(){r()}))}))}function qe(){var e=this;return new Promise((function(t,r){if(!Le(e,Be))return ze(Fe(Ue.prototype),"_saveGameDataToLocalStorage",e).call(e);Le(e,Be).setData(e._gameData).then((function(){t()})).catch((function(e){r(e)}))}))}const Qe=Ue;function Xe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ze(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$e(e,t,"get"))}function $e(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var et=new WeakMap;const tt=function(){function e(t){var r,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=et),o.set(r,n),function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}})(e,$e(e,t,"set"),r)}(this,et,t)}var t,r;return t=e,(r=[{key:"isAuthorizationSupported",get:function(){return Ze(this,et).isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return Ze(this,et).isPlayerAuthorized}},{key:"id",get:function(){return Ze(this,et).playerId}},{key:"name",get:function(){return Ze(this,et).playerName}},{key:"photos",get:function(){return Ze(this,et).playerPhotos}},{key:"authorize",value:function(){return Ze(this,et).authorizePlayer()}}])&&Xe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,nt(e,t,"get"))}function nt(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var it=new WeakMap;const at=function(){function e(t){var r,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=it),o.set(r,n),function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}})(e,nt(e,t,"set"),r)}(this,it,t)}var t,r;return t=e,(r=[{key:"getData",value:function(e){return ot(this,it).getGameData(e)}},{key:"setData",value:function(e,t){return ot(this,it).setGameData(e,t)}},{key:"deleteData",value:function(e){return ot(this,it).deleteGameData(e)}}])&&rt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function st(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ct(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ut(e,t,"get"))}function ut(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var lt=new WeakMap;const ht=function(){function e(t){var r,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=lt),o.set(r,n),function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}})(e,ut(e,t,"set"),r)}(this,lt,t)}var t,r;return t=e,(r=[{key:"isInviteFriendsSupported",get:function(){return ct(this,lt).isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return ct(this,lt).isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return ct(this,lt).isShareSupported}},{key:"isCreatePostSupported",get:function(){return ct(this,lt).isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return ct(this,lt).isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return ct(this,lt).isAddToFavoritesSupported}},{key:"inviteFriends",value:function(){return ct(this,lt).inviteFriends()}},{key:"joinCommunity",value:function(){return ct(this,lt).joinCommunity()}},{key:"share",value:function(){return ct(this,lt).share()}},{key:"createPost",value:function(e){return ct(this,lt).createPost(e)}},{key:"addToHomeScreen",value:function(){return ct(this,lt).addToHomeScreen()}},{key:"addToFavorites",value:function(){return ct(this,lt).addToFavorites()}}])&&st(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mt(e,t,r){yt(e,t),t.set(e,r)}function yt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _t(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,wt(e,t,"set"),r),r}function vt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,wt(e,t,"get"))}function wt(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Pt=new WeakMap,gt=new WeakMap,bt=new WeakMap,Dt=new WeakMap,kt=new WeakMap,St=new WeakMap,jt=new WeakMap,Tt=new WeakSet;function Ot(){var e=new URL(window.location.href),t=["g","a","m","e","s",".","s","3",".","y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(t)?_t(this,bt,new Qe(this._options&&this._options.platforms&&this._options.platforms.yandex)):e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?_t(this,bt,new je(this._options&&this._options.platforms&&this._options.platforms.vk)):_t(this,bt,new fe(this._options&&this._options.platforms&&this._options.platforms.mock))}const It=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,t=Tt),t.add(this),mt(this,Pt,{writable:!0,value:!1}),mt(this,gt,{writable:!0,value:void 0}),mt(this,bt,{writable:!0,value:void 0}),mt(this,Dt,{writable:!0,value:void 0}),mt(this,kt,{writable:!0,value:void 0}),mt(this,St,{writable:!0,value:void 0}),mt(this,jt,{writable:!0,value:void 0})}var t,r;return t=e,r=[{key:"version",get:function(){return"1.3.0"}},{key:"isInitialized",get:function(){return vt(this,Pt)}},{key:"platform",get:function(){return vt(this,bt)}},{key:"player",get:function(){return vt(this,Dt)}},{key:"game",get:function(){return vt(this,kt)}},{key:"advertisement",get:function(){return vt(this,St)}},{key:"social",get:function(){return vt(this,jt)}},{key:"initialize",value:function(e){var t=this;return vt(this,Pt)?Promise.resolve():(vt(this,gt)||(_t(this,gt,new u),this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,Tt,Ot).call(this),vt(this,bt).initialize().then((function(){_t(t,Dt,new tt(vt(t,bt))),_t(t,kt,new at(vt(t,bt))),_t(t,St,new ee(vt(t,bt))),_t(t,jt,new ht(vt(t,bt))),_t(t,Pt,!0),console.log("%c InstantGamesBridge v."+t.version+" initialized. ","background: #01A5DA; color: white"),vt(t,gt)&&(vt(t,gt).resolve(),_t(t,gt,null))}))),vt(this,gt).promise)}}],r&&pt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.instantGamesBridge=new It})()})();
